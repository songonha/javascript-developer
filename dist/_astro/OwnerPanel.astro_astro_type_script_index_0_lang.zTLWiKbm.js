import{c as d,a as l}from"./contractInteraction.Bzd_WfGw.js";const n=document.getElementById("ownerPanelModal"),a=n?.querySelector(".close"),t=document.getElementById("sendRequestBtn"),c=document.getElementById("requestIdContainer"),i=document.getElementById("requestIdValue"),s=document.getElementById("ownerPanelStatus");async function u(){if(t)try{await l()?(t.disabled=!1,r("Connected as contract owner","success")):(t.disabled=!0,r("You are not the contract owner","error"))}catch(e){r("Error checking ownership: "+(e instanceof Error?e.message:"Unknown error"),"error"),t.disabled=!0}}window.openOwnerPanel=async()=>{n&&(n.style.display="block",await u())};a&&a.addEventListener("click",()=>{n&&(n.style.display="none")});window.addEventListener("click",e=>{e.target===n&&n&&(n.style.display="none")});t&&t.addEventListener("click",async()=>{try{t.disabled=!0,t.textContent="Processing...",r("Sending request...","info");const e=await d();e.success?(r(e.message,"success"),c&&i&&e.requestId&&(i.textContent=e.requestId,c.classList.remove("hidden"))):r(e.message,"error")}catch(e){const o=e instanceof Error?e.message:"An error occurred";r(o,"error")}finally{t.disabled=!1,t.textContent="Send Chainlink Request"}});function r(e,o){s&&(s.textContent=e,s.className="status-message",s.classList.add(o),s.classList.remove("hidden"),(o==="success"||o==="info")&&setTimeout(()=>{s.classList.add("fade-out"),setTimeout(()=>{s.classList.add("hidden"),s.classList.remove("fade-out")},1e3)},5e3))}
