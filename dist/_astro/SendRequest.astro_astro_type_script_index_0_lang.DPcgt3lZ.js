import{s as d}from"./contractInteraction.Bzd_WfGw.js";const n=document.getElementById("sendRequestModal"),i=document.querySelector(".close"),o=document.getElementById("submitRequest"),e=document.getElementById("transactionStatus"),r=["https://blog.chain.Link/","https://ethereum.org/en/blog/","https://cointelegraph.com/"];window.openSendRequestModal=()=>{n&&(n.style.display="block")};i&&i.addEventListener("click",()=>{n&&(n.style.display="none")});window.addEventListener("click",t=>{t.target===n&&n&&(n.style.display="none")});o&&e&&o.addEventListener("click",async()=>{try{o.disabled=!0,o.textContent="Processing...",c("Connecting to wallet...","info");const t=Math.floor(Math.random()*r.length),s=r[t];sessionStorage.setItem("defaultNewsSource",s);const a=await d(s);a.success?c(`Success! Transaction: ${a.txHash.slice(0,10)}...${a.txHash.slice(-8)}`,"success"):c(a.message,"error")}catch(t){const s=t instanceof Error?t.message:"An error occurred";c(s,"error")}finally{o.disabled=!1,o.textContent="Send Request to Blockchain"}});function c(t,s){e&&(e.textContent=t,e.className="status-message",e.classList.add(s),e.classList.remove("hidden"),(s==="success"||s==="info")&&setTimeout(()=>{e.classList.add("fade-out"),setTimeout(()=>{e.classList.add("hidden"),e.classList.remove("fade-out")},1e3)},5e3))}
